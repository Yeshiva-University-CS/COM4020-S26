# Market-Maker Trading System

## Project Overview

This project builds a simplified market-maker trading system that continuously provides buy and sell quotes for a fixed set of symbols in a simulated exchange. The system is fully self-contained and operates without any external market connectivity.

The system consists of an exchange that accepts external orders through a defined API, a trading state service that records fills and maintains positions, and a set of market-making nodes that publish updated quotes. External orders are generated by a separate external order publisher that connects to the exchange via this API. For each symbol, the system maintains at most one active quote at a time. Quotes specify a bid price, an ask price, and a quantity, and are valid for a limited period.

External orders may partially or fully fill an active quote. A quote is replaced only after the resulting fills have been durably recorded and reflected in the systemâ€™s position state. Market makers update quotes only in response to committed position updates or quote expiration, ensuring that all quote changes reflect durable system state rather than raw execution events.

To limit the overall exposure of the trading system, the system enforces a global exposure limit across all symbols. This limit represents the maximum total exposure implied by all currently active quotes if they were to be filled immediately. Before a new quote becomes active, the system must ensure that sufficient exposure capacity is available to support it. Exposure capacity associated with a quote must be released or adjusted when that quote is replaced, expires, or is filled.

Quotes are not permanent. Each quote has a time-to-live (TTL) of 30 seconds. When a quote expires, it is no longer eligible for execution and its associated exposure capacity must be released. The system must ensure that valid quotes are refreshed as needed while preventing stale or outdated quote updates from overriding newer state.

The market-making logic itself is intentionally simple and deterministic. The primary challenge of the project lies in coordinating state changes, enforcing correctness under concurrency, handling retries and partial failures, and ensuring that the system converges to a correct state under normal operation, load, and crash/recovery scenarios.

---
### 1. [Trading Requirements](requirements.md)
### 2. [Components](components.md)
### 3. [Deliverables & Milestones](milestones.md)
---

## Resulting System Behavior

- External orders are submitted to the exchange through a defined API by an external order publisher.
- At most one active quote exists per symbol at any time.
- Quotes may be partially filled by external orders.
- Quote replacement occurs only after fills are durably recorded and positions updated.
- Quotes may be reduced in size or omitted when insufficient global exposure capacity exists.
- Quotes expire automatically after 30 seconds if not refreshed.
- Expired or replaced quotes release any associated exposure capacity.
- The system converges to the latest committed position and quote state despite retries, delays, or component restarts.

---

## Distributed Systems Challenges

- Coordinating quote updates based on committed state rather than raw execution events.
- Enforcing a global exposure limit under concurrent quote activity across multiple symbols.
- Preventing stale or out-of-order quote updates from overriding newer state.
- Ensuring that exposure capacity is neither over-allocated nor leaked during failures.
- Handling partial failures and restarts while maintaining correct positions and quotes.
- Demonstrating recovery behavior that leads to a consistent and explainable system state.

---

## Team Size and Time Expectations

This project is designed for 4 students working over 14 weeks, with an expected effort of approximately 10 hours per week per student.
